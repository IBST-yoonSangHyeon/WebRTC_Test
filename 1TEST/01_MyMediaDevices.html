<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>나의 미디어 오픈</title>
    <meta name="description" content="단일 미디어를 호출 권한 요청">
</head>
<body>
    <video id="localVideo" autoplay playsinline controls="false"></video>
    <script>
        const openMediaDevices = async (constraints) => {
            return await navigator.mediaDevices.getUserMedia(constraints);
        }

        try {
            const stream = openMediaDevices({'video':true,'audio':true});
            console.log('Got MediaStream1:', stream);
            console.log('Got MediaStream2:', 
                stream
                .then((data) => {
                    console.log('MediaStream data: ', data)
                    console.log('MediaStream id: ', data.id) // 계속 값이 바뀐다.
                    console.log('MediaStream active: ', data.active)
                }).catch(err => console.log('Error : ', err))
            );
        } catch(error) {
            console.error('Error accessing media devices.', error);
        }
    </script>
</body>
</html>